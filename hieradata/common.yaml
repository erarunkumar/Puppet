spark::spark_env:
  - SPARK_LOCAL_IP=%{::ipaddress_eth1}
  - SPARK_MASTER_HOST=%{::ipaddress_eth1}
  - 'SPARK_DAEMON_MEMORY=500m'
spark::master_url: '192.168.33.50'
selinux::mode: 'disabled'
selinux::type: 'targeted'
timezone::timezone: 'UTC'

nvm_nodejs::app_name: 'adtech'
nvm_nodejs::environment: 'production'
nvm_nodejs::packages:
  - bower
  - pm2

ntp::logfile: /var/log/ntp.log
ntp::minpoll: 10
ntp::maxpoll: 11
ntp::iburst_enable: true
ulimit::use_default_ulimits: false
ulimit::purge: false
ulimit::rules::limit_config:
  'nrpoc':
    ulimit_domain: '*'
    ulimit_type  : '-'
    ulimit_item  : 'nproc'
    ulimit_value : '65536'
    priority     : '100'
  'nofile':
    ulimit_domain: '*'
    ulimit_type  : '-'
    ulimit_item  : 'nofile'
    ulimit_value : '65536'
    priority     : '90'
  'core':
    ulimit_domain: '*'
    ulimit_type  : '-'
    ulimit_item  : 'core'
    ulimit_value : 'unlimited'
    priority     : '80'
  'memlock':
    ulimit_domain: '*'
    ulimit_type  : '-'
    ulimit_item  : 'memlock'
    ulimit_value : 'unlimited'
    priority     : '80'

java::oracles::java_details:
  'jre8':
    ensure: 'present'
    version: '8'
    java_se: 'jre'
zookeeper::hostnames:
  - zookeeper-master.domain.name
  - zookeeper-slave1.domain.name
  - zookeeper-slave2.domain.name
zookeeper::properties:
  'zookeeper.security.auth_to_local': '::undef'

################## aerospike ###############
aerospike::version: 3.11.1.1
aerospike::download_user: 'myuser'
aerospike::download_pass: 'mypassword'
aerospike::config_service:
  'paxos-single-replica-limit': 1
  'pidfile': '/var/run/aerospike/asd.pid'
  'service-threads': 4
  'transaction-queues': 4
  'transaction-threads-per-queue': 4
  'proto-fd-max': 15000
  'paxos-protocol': 'v4'
  'paxos-recovery-policy': 'auto-reset-master'
aerospike::config_net_svc:
  'address': 'any'
  'port': 3000
  'access-address': 192.168.33.70
aerospike::config_cluster:
  'mode': 'dynamic'
  'self-group-id': 666
aerospike::config_net_hb:
  'mode': 'mesh'
  'port': 3002,
  'interval': 150
  'timeout': 10
  'mesh-seed-address-port 192.168.33.50': 3002
  'mesh-seed-address-port 192.168.33.60': 3002
  'mesh-seed-address-port 192.168.33.70': 3002
aerospike::config_ns:
  'adtech':
    'replication-factor': 2
    'memory-size': '500M'
    'default-ttl': '5d'
    'storage-engine device':
      - 'file /opt/aerospike/data/adtech.dat'
      - 'filesize 10G'
      - 'data-in-memory true'
################ cassandra #########################
cassandra::datastax_repo::pkg_url: 'http://rpm.datastax.com/datastax-ddc/3.9'
cassandra::package_name: datastax-ddc
cassandra::service_ensure: running
cassandra::dc: 'DC1'
cassandra::settings:
  'cluster_name': 'MyCassandraCluster'
  'authenticator': 'AllowAllAuthenticator'
  'commitlog_directory': '/var/lib/cassandra/commitlog'
  'commitlog_sync': 'periodic'
  'commitlog_sync_period_in_ms': 10000
  'num_tokens': 256
  'listen_interface': 'eth1'
  'data_file_directories':
    - '/var/lib/cassandra/data'
  'endpoint_snitch': 'GossipingPropertyFileSnitch'
  'partitioner': 'org.apache.cassandra.dht.Murmur3Partitioner'
  'saved_caches_directory': '/var/lib/cassandra/saved_caches'
  'hints_directory': /var/lib/cassandra/hints
  'seed_provider':
    - 'class_name': 'org.apache.cassandra.locator.SimpleSeedProvider'
      'parameters':
        - 'seeds': '192.168.33.50'
  'start_native_transport': true
cassandra::require:
    'Class':
      - cassandra::datastax_repo

##################### kafka ##############
kafka::version: '0.10.0.1'
kafka::scala_version: '2.11'
kafka::install_java: false
kafka::broker::config:
  'broker.id': '0'
  'zookeeper.connect': 'localhost:2181'
  'inter.broker.protocol.version': '0.10.0.0'
